<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"/>
<header th:replace="layout/layout :: header"/>


<body>
<div class="container py-4">
    <div class="card bg-light">
        <div class="card-header" th:text="${title}">
        </div>
        <div class="card-title">
        <a th:href="@{/client/}+${newVisit.client.id}" th:text="'   &laquo;   Previous'" class="pl-3"></a>
        </div>
        <div class="card-body">
            <div th:replace="layout/layout :: info"/>

            <form th:action="@{/formVisit/}" th:object="${newVisit}" method="post">
                <label class="col-sm-2 col-form-label">Client:</label>
                <input disabled="disabled" th:value="${newVisit.client.name} + ' ' + ${newVisit.client.surname}"
                       class="form-control">
                <div class="col-sm-6">
                <input th:type="hidden"
                       th:field="*{client}" class="form-control" />
                </div>
                <br>
                <div class="form-group row">
                    <label for="description" class="col-sm-2 col-form-label">Description:</label>
                <div class="col-sm-6">
                <input th:type="text" name="description" id="description" th:field="*{description}" th:errorclass="alert-danger" class="form-control"/>

                </div>
                </div>
                <div class="form-group row">
                    <label for="visitDate" class="col-sm-2 col-form-label">Data Visit:</label>
                    <div class="col-sm-6">
                        <input th:type="date" name="visitDate" id="visitDate" th:field="*{visitDate}"
                               th:errorclass="alert-danger" class="form-control"/>

                    </div>
                </div>
                <div class="form-group row">
                    <label for="visitTime" class="col-sm-2 col-form-label">Time Visit:</label>
                    <div class="col-sm-6">
                        <input th:type="time" name="visitTime" id="visitTime" th:field="*{visitTime}"
                               th:errorclass="alert-danger" class="form-control"/>


                    </div>
                </div>


                        <br>
                <div class="form-group row">
                    <label for="search-massage" class="col-sm-2 col-form-label">Search massage:</label>
                    <div class="col-sm-6">
                        <input th:type="text" name="search-massage" id="search-massage" class="form-control"/>
                    </div>
                </div>
                <table th:replace="visit/visitItems :: visitItems"/>
                <table id="ItemsVisit" class="table table-striped table-hover">
                <thead>
                <tr>
                <th></th>
                <th>Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
                <th>Delete</th>
                </tr>
                </thead>
                <tbody>

                </tbody>
                </table>
                <h5>
                    Total price:
                    <span class="badge badge-secondary" id="totalPrice">0</span>
                </h5>

                <div class="form-group-row">
                    <div class="col-sm-6">
                <button th:type="submit" class="btn btn-success">new Visit</button>
</div>
</div>

</form>
</div>

</div>
<br>
<footer th:replace="layout/layout :: footer"/>
<script th:replace="visit/js/search-massage :: javascript"></script>
</body>
</html>